#+TITLE: PGP

#+begin_src sh
  brew install gnupg
#+end_src

* Create Key

  #+begin_src sh
    gpg --full-generate-key
  #+end_src

* List Keys

  #+begin_src sh
    gpg --list-secret-keys --keyid-format=long
  #+end_src

* Automatic Git Commit Signing

  A good Gist [[https://gist.github.com/bmhatfield/cc21ec0a3a2df963bffa3c1f884b676b][here]].

  =pinentry-mac= saves the passphrases in the Keyring.

  #+begin_src sh
    brew install pinentry-mac
  #+end_src

  Now add this to =~/.gnupg/gpg-agent.conf=:

  #+begin_src conf
    # Connects gpg-agent to the OSX keychain via the brew-installed pinentry program
    # from GPGtools. This is the OSX 'magic sauce', allowing the gpg key's
    # passphrase to be stored in the login keychain, enabling automatic key signing.
    pinentry-program /usr/local/bin/pinentry-mac
  #+end_src
