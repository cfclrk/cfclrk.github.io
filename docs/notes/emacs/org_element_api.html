<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Org Element Api</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/main.css" />
</head>
<body>
<div id="preamble" class="status">
<nav id="navbar" class="cf">
  <ul class="cf">
    <li class="fl">
      <a href="/">cfclrk</a>
    </li>
    <li class="fr">
      <a href="/articles/home.html">Articles</a>
    </li>
    <li class="fr">
      <a href="/notes/home.html">Notes</a>
    </li>
	<li class="fr">
      <a href="/cloudformation/home.html">CloudFormation</a>
    </li>
  </ul>
</nav>
</div>
<div id="content" class="content">
<header>
<h1 class="title">Org Element Api</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orga86e242">Resources</a></li>
<li><a href="#org8e1634c">Local Parsing</a>
<ul>
<li><a href="#org2d248a3">org-element-at-point</a></li>
<li><a href="#org6f892db">org-element-context</a></li>
<li><a href="#org3953ad4">Examining Element</a></li>
</ul>
</li>
<li><a href="#org08e3cc3">Global Parsing</a>
<ul>
<li><a href="#org4ff16ac">Accessors</a></li>
<li><a href="#org5f09abf">This Heading</a></li>
</ul>
</li>
<li><a href="#org743b2dd">Get Title</a></li>
</ul>
</div>
</nav>

<div id="outline-container-orga86e242" class="outline-2">
<h2 id="orga86e242"><a href="#orga86e242">Resources</a></h2>
<div class="outline-text-2" id="text-orga86e242">
<p>
Good doc here: <a href="https://orgmode.org/worg/dev/org-element-api.html">https://orgmode.org/worg/dev/org-element-api.html</a>
</p>
</div>
</div>

<div id="outline-container-org8e1634c" class="outline-2">
<h2 id="org8e1634c"><a href="#org8e1634c">Local Parsing</a></h2>
<div class="outline-text-2" id="text-org8e1634c">
<p>
Local parsing gives information about the element at point. Local parsing
gives you information, but you cannot alter the structure of the AST.
</p>

<p>
Two functions you can use:
</p>

<ol class="org-ol">
<li><code>org-element-at-point</code></li>
<li><code>org-element-context</code></li>
</ol>
</div>

<div id="outline-container-org2d248a3" class="outline-3">
<h3 id="org2d248a3"><a href="#org2d248a3">org-element-at-point</a></h3>
<div class="outline-text-3" id="text-org2d248a3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>pprint <span style="color: #c678dd;">(</span>org-element-at-point<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">

(src-block (:language "emacs-lisp" :switches nil :parameters nil :begin 776 :end 853 :number-lines nil :preserve-indent nil :retain-labels t :use-labels t :label-fmt nil :value "     (pprint (org-element-at-point))
" :post-blank 1 :post-affiliated 776 :parent nil))
</pre>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>pp <span style="color: #c678dd;">(</span><span style="color: #51afef;">save-excursion</span>
   <span style="color: #98be65;">(</span>goto-char <span style="color: #a9a1e1;">(</span>point-min<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>org-element-at-point<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">
(keyword
 (:key "TITLE" :value "Org Element Api" :begin 1 :end 26 :post-blank 0 :post-affiliated 1 :parent nil))
</pre>
</div>
</div>

<div id="outline-container-org6f892db" class="outline-3">
<h3 id="org6f892db"><a href="#org6f892db">org-element-context</a></h3>
<div class="outline-text-3" id="text-org6f892db">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>pprint <span style="color: #c678dd;">(</span>org-element-context<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">

(src-block (:language "emacs-lisp" :switches nil :parameters nil :begin 1079 :end 1155 :number-lines nil :preserve-indent nil :retain-labels t :use-labels t :label-fmt nil :value "     (pprint (org-element-context))
" :post-blank 1 :post-affiliated 1079 :parent nil))
</pre>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">save-excursion</span>
  <span style="color: #c678dd;">(</span>goto-char <span style="color: #98be65;">(</span>point-min<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>org-element-context<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">keyword</td>
<td class="org-left">(:key TITLE :value Org Element Api :begin 1 :end 26 :post-blank 0 :post-affiliated 1 :parent nil)</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org3953ad4" class="outline-3">
<h3 id="org3953ad4"><a href="#org3953ad4">Examining Element</a></h3>
<div class="outline-text-3" id="text-org3953ad4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>org-element-type <span style="color: #c678dd;">(</span>org-element-at-point<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">
src-block
</pre>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>org-element-property <span style="color: #c678dd;">:language</span> <span style="color: #c678dd;">(</span>org-element-at-point<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">
emacs-lisp
</pre>


<p>
Note: You can't use <code>org-element-contents</code> with local parsing.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>org-element-contents <span style="color: #c678dd;">(</span>org-element-at-point<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org08e3cc3" class="outline-2">
<h2 id="org08e3cc3"><a href="#org08e3cc3">Global Parsing</a></h2>
<div class="outline-text-2" id="text-org08e3cc3">
<p>
Use <code>org-element-parse-buffer</code> to return a full AST of the buffer. You may
modify this AST using setters.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>pp <span style="color: #c678dd;">(</span>org-element-parse-buffer <span style="color: #98be65;">(</span>current-buffer<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>pp <span style="color: #c678dd;">(</span>org-element-parse-buffer 'headline<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">
(org-data nil
          (headline
           (:raw-value "Resources" :begin 56 :end 137 :pre-blank 1 :contents-begin 69 :contents-end 136 :level 1 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 1 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 56 :title "Resources" :parent #0))
          (headline
           (:raw-value "Local Parsing" :begin 137 :end 2149 :pre-blank 1 :contents-begin 154 :contents-end 2148 :level 1 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 1 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 137 :title "Local Parsing" :parent #0)
           (headline
            (:raw-value "org-element-at-point" :begin 389 :end 1055 :pre-blank 1 :contents-begin 414 :contents-end 1054 :level 2 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 1 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 389 :title "org-element-at-point" :parent #1))
           (headline
            (:raw-value "org-element-context" :begin 1055 :end 1705 :pre-blank 1 :contents-begin 1079 :contents-end 1704 :level 2 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 1 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 1055 :title "org-element-context" :parent #1))
           (headline
            (:raw-value "Examining Element" :begin 1705 :end 2148 :pre-blank 1 :contents-begin 1727 :contents-end 2148 :level 2 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 0 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 1705 :title "Examining Element" :parent #1)))
          (headline
           (:raw-value "Global Parsing" :begin 2149 :end 10183 :pre-blank 1 :contents-begin 2167 :contents-end 10183 :level 1 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 0 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 2149 :title "Global Parsing" :parent #0)
           (headline
            (:raw-value "Accessors" :begin 9799 :end 10036 :pre-blank 1 :contents-begin 9813 :contents-end 10035 :level 2 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 1 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 9799 :title "Accessors" :parent #1))
           (headline
            (:raw-value "This Heading" :begin 10036 :end 10183 :pre-blank 1 :contents-begin 10053 :contents-end 10183 :level 2 :priority nil :tags nil :todo-keyword nil :todo-type nil :post-blank 0 :footnote-section-p nil :archivedp nil :commentedp nil :post-affiliated 10036 :title "This Heading" :parent #1))))
</pre>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>org-element-parse-buffer 'title<span style="color: #51afef;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org4ff16ac" class="outline-3">
<h3 id="org4ff16ac"><a href="#org4ff16ac">Accessors</a></h3>
<div class="outline-text-3" id="text-org4ff16ac">
<p>
Three functions:
</p>

<ol class="org-ol">
<li><code>org-element-type</code></li>
<li><code>org-element-property</code></li>
<li><code>org-element-contents</code></li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>org-element-contents
 <span style="color: #c678dd;">(</span>org-element-parse-buffer <span style="color: #98be65;">(</span>current-buffer<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5f09abf" class="outline-3">
<h3 id="org5f09abf"><a href="#org5f09abf">This Heading</a></h3>
<div class="outline-text-3" id="text-org5f09abf">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>org-heading-components<span style="color: #51afef;">)</span>
</pre>
</div>

<table>


<colgroup>
<col  class="org-right">

<col  class="org-right">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-right">2</td>
<td class="org-right">2</td>
<td class="org-left">nil</td>
<td class="org-left">nil</td>
<td class="org-left">This Heading</td>
<td class="org-left">nil</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org743b2dd" class="outline-2">
<h2 id="org743b2dd"><a href="#org743b2dd">Get Title</a></h2>
<div class="outline-text-2" id="text-org743b2dd">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>cadar <span style="color: #c678dd;">(</span>org-collect-keywords '<span style="color: #98be65;">(</span><span style="color: #98be65;">"TITLE"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">
"Org Element Api"
</pre>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>cdr <span style="color: #c678dd;">(</span>assoc <span style="color: #98be65;">"TITLE"</span> <span style="color: #98be65;">(</span>org-collect-keywords '<span style="color: #a9a1e1;">(</span><span style="color: #98be65;">"TITLE"</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="results">#+RESULTS:</div><pre class="example">
("Org Element Api")
</pre>
</div>
</div>
</div>
</body>
</html>
